# TDDä»£ç ç§»åŠ¨æ¸…å•

## ğŸ¯ é‡å¤ä»£ç å‘ç° (é«˜ä¼˜å…ˆçº§)

### 1. å·¥å…·å‡½æ•°é‡å¤ (é¢„è®¡ç§»é™¤: ~50è¡Œ)
**å·²åœ¨chess.jsä¸­é‡å¤å®šä¹‰:**
- `function findPieceAt(pieces, row, col)` (è¡Œ14-19) âŒ
- `function isOwnPieceAt(pieces, row, col, color)` (è¡Œ29-35) âŒ
- `function areKingsFacing(pieces)` (è¡Œ42-67) âŒ
- `function isValidPosition(row, col)` (è¡Œ75-77) âŒ
- `function filterValidMoves(moves)` (è¡Œ84-86) âŒ

**ç§»åŠ¨åˆ°**: åº”è¯¥å·²åœ¨game-state.jsä¸­å®ç°
**é£é™©**: â­ ä½é£é™©

### 2. ModalManagerè°ƒç”¨é‡å¤ (é¢„è®¡ç§»é™¤: ~30è¡Œ)
**chess.jsä¸­çš„showMessageè°ƒç”¨:**
- 9ä¸ªshowMessageè°ƒç”¨ (è¡Œ407,417,1492,1541,1559,1565,1754,1816,2248)
- æ¡ä»¶æ£€æŸ¥: `if (typeof showMessage !== 'undefined')` âŒ

**é—®é¢˜**: ModalManagerå·²å­˜åœ¨ï¼Œä½†chess.jsè¿˜åœ¨ç›´æ¥è°ƒç”¨
**ç§»åŠ¨åˆ°**: å·²åˆ›å»ºmodal-manager.js
**é£é™©**: â­ ä½é£é™©

### 3. æ¼”ç¤ºåŠŸèƒ½æ¨¡å— (é¢„è®¡ç§»é™¤: ~800è¡Œ)
**GameDemonstrationç›¸å…³æ–¹æ³•:**
- `loadAndPlayClassicGameWithData` (è¡Œ2462)
- `playToStep` (è¡Œ2976)
- `updateRecordStepsDisplay` (è¡Œ2925)
- `autoPlayFullGame` (è¡Œ3039)
- æ‰€æœ‰æ¼”ç¤ºç›¸å…³ä»£ç  (ä¼°è®¡800è¡Œ)

**ç§»åŠ¨åˆ°**: éœ€è¦åˆ›å»ºGameDemonstration.js
**é£é™©**: â­â­â­ é«˜é£é™©

### 4. æ£‹ç›˜æ¸²æŸ“åŠŸèƒ½ (é¢„è®¡ç§»é™¤: ~400è¡Œ)
**æ¸²æŸ“ç›¸å…³æ–¹æ³•:**
- `createBoard` (è¡Œ943)
- `drawBoardLines` (è¡Œ955)
- `drawPalaceDiagonals` (è¡Œ969)
- `drawDiagonalLine` (è¡Œ985)
- `setupPieces` (è¡Œ1074)
- `createPiece` (è¡Œ1117)

**ç§»åŠ¨åˆ°**: éœ€è¦åˆ›å»ºBoardRenderer.js
**é£é™©**: â­â­ ä¸­é£é™©

## ğŸš€ TDDç§»åŠ¨æ‰¹æ¬¡

### æ‰¹æ¬¡0ï¸âƒ£: å·¥å…·å‡½æ•°æ¸…ç† (50è¡Œ)
```javascript
// æµ‹è¯•: éªŒè¯å·¥å…·å‡½æ•°åŠŸèƒ½
// ç§»åŠ¨: åˆ é™¤chess.jsä¸­çš„é‡å¤å·¥å…·å‡½æ•°
// å¼•ç”¨: ä½¿ç”¨game-state.jsä¸­çš„å®ç°
// éªŒè¯: npm test
```

### æ‰¹æ¬¡1ï¸âƒ£: ModalManageré›†æˆ (30è¡Œ)
```javascript
// æµ‹è¯•: éªŒè¯showMessageè°ƒç”¨
// ç§»åŠ¨: ç®€åŒ–showMessageè°ƒç”¨ï¼Œç§»é™¤æ¡ä»¶æ£€æŸ¥
// å¼•ç”¨: ç›´æ¥ä½¿ç”¨modal-manager
// éªŒè¯: npm test
```

### æ‰¹æ¬¡2ï¸âƒ£: æ¼”ç¤ºæ¨¡å—æå– (800è¡Œ)
```javascript
// æµ‹è¯•: è´Ÿè½½æ‰€æœ‰æ¼”ç¤ºç›¸å…³æµ‹è¯•
// ç§»åŠ¨: å¤§è§„æ¨¡ä»£ç ç§»åŠ¨åˆ°GameDemonstration.js
// å¼•ç”¨: chess.jsè°ƒç”¨gameDemonstration
// éªŒè¯: npm test
```

### æ‰¹æ¬¡3ï¸âƒ£: æ¸²æŸ“æ¨¡å—æå– (400è¡Œ)
```javascript
// æµ‹è¯•: æ‰€æœ‰UIæ¸²æŸ“æµ‹è¯•
// ç§»åŠ¨: ç§»åŠ¨åˆ°BoardRenderer.js
// å¼•ç”¨: chess.jsè°ƒç”¨boardRenderer
// éªŒè¯: npm test
```

## ğŸ“Š é¢„æœŸæˆæœ

| æ‰¹æ¬¡ | ç§»é™¤è¡Œæ•° | é£é™© | é¢„è®¡chess.jså¤§å° |
|------|----------|------|------------------|
| æ‰¹æ¬¡0ï¸âƒ£ | 50è¡Œ | â­ | 3193è¡Œ |
| æ‰¹æ¬¡1ï¸âƒ£ | 30è¡Œ | â­ | 3163è¡Œ |
| æ‰¹æ¬¡2ï¸âƒ£ | 800è¡Œ | â­â­â­ | 2363è¡Œ |
| æ‰¹æ¬¡3ï¸âƒ£ | 400è¡Œ | â­â­ | 1963è¡Œ |

**æœ€ç»ˆç›®æ ‡: chess.js â‰ˆ 1963è¡Œ (-40%)**

---
*ç§»åŠ¨æ¸…å•å·²åˆ›å»ºï¼Œå‡†å¤‡å¼€å§‹TDDç§»åŠ¨*