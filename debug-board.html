<!DOCTYPE html>
<html>
<head>
    <title>棋盘调试页面</title>
    <style>
        .board {
            position: relative;
            width: 630px;
            height: 700px;
            background-color: #f0d9b5;
            border: 2px solid #8b4513;
            margin: 20px;
        }
        .cell {
            position: absolute;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <h1>棋盘调试</h1>
    <div id="log"></div>
    <div class="board" id="testBoard"></div>

    <script src="chess.js"></script>
    <script>
        function log(msg) {
            console.log(msg);
            const logElement = document.getElementById('log');
            logElement.innerHTML += `<div>${msg}</div>`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            log('页面加载完成');

            const board = document.getElementById('testBoard');
            log(`棋盘元素: ${board ? '找到' : '未找到'}`);

            if (board) {
                log(`棋盘尺寸: ${board.offsetWidth}x${board.offsetHeight}`);

                // 直接创建棋盘
                const game = new XiangqiGame();
                log(`游戏实例化: ${game ? '成功' : '失败'}`);

                // 强制棋盘创建
                if (game.boardRenderer) {
                    log('棋盘渲染器找到');
                    game.boardRenderer.createBoard();

                    const cells = document.querySelectorAll('.cell');
                    log(`创建了 ${cells.length} 个格子`);

                    cells.forEach((cell, index) => {
                        log(`格子 ${index}: ${cell.style.left}, ${cell.style.top}`);
                    });
                } else {
                    log('棋盘渲染器未找到');
                }
            }
        });
    </script>
</body>
</html>